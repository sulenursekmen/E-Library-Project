@model ApplicationUserRegisterCommand
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="page-section text-white mt-5">
    <div class="container">
        <div class="p-5 custom-card custom-box-shadow mx-auto" style="max-width: 500px;">
            <!-- Max width added -->
            <h2 class="mb-4 text-center text-white">Kayıt Ol</h2>

            <form id="registrationForm" method="post" asp-action="Index">
                <div class="mb-3">
                    <label class="mb-1">Kullanıcı Adı</label>
                    <input asp-for="Username" class="form-control" placeholder="Kullanıcı adınızı giriniz" required />
                    <div class="invalid-feedback">Kullanıcı adınızı girmeniz gerekmektedir.</div>
                    <span asp-validation-for="Username" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label class ="mb-1">Email</label>
                    <input asp-for="Email" type="email" class="form-control" placeholder="Email adresinizi giriniz" required />
                    <div class="invalid-feedback">Geçerli bir email adresi giriniz.</div>
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label class="mb-1">Adı</label>
                    <input asp-for="FirstName" class="form-control" placeholder="Adınızı giriniz" required />
                    <div class="invalid-feedback">Adınızı girmeniz gerekmektedir.</div>
                    <span asp-validation-for="FirstName" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label class="mb-1">Soyadı</label>
                    <input asp-for="LastName" class="form-control" placeholder="Soyadınızı giriniz" required />
                    <div class="invalid-feedback">Soyadınızı girmeniz gerekmektedir.</div>
                    <span asp-validation-for="LastName" class="text-danger"></span>
                </div>

                <div class="row mb-3">
                    <div class="col">
                        <label class="mb-1">Şifre</label>
                        <input asp-for="Password" type="password" class="form-control" placeholder="Şifrenizi giriniz" required />
                        <div class="invalid-feedback">Şifre girmeniz gerekmektedir.</div>
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>
                    <div class="col">
                        <label class="mb-1">Şifre Tekrar</label>
                        <input asp-for="ConfirmPassword" type="password" class="form-control" placeholder="Şifrenizi tekrar giriniz" required />
                        <div class="invalid-feedback">Şifreler eşleşmiyor.</div>
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="mb-1">Cinsiyet</label>
                    <select asp-for="Gender" class="form-select" required>
                        <option value="">Seçiniz</option>
                        <option value="Male">Erkek</option>
                        <option value="Female">Kadın</option>
                        <option value="Other">Diğer</option>
                    </select>
                    <div class="invalid-feedback">Cinsiyet seçmeniz gerekmektedir.</div>
                    <span asp-validation-for="Gender" class="text-danger"></span>
                </div>

                <button type="submit" class="btn btn-success mt-3 w-100">Kayıt Ol</button>
            </form>
        </div>
    </div>
</section>


@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        $(document).ready(function () {
            $("#registrationForm").on("submit", function (e) {
                let isValid = this.checkValidity();
                if (!isValid) {
                    e.preventDefault();
                    $(this).addClass('was-validated'); 
                }
            });
        });
    </script>
}
